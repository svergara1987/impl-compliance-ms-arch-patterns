/* Initialisation */
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {}
 & endpoints = {}
 & last_endpoint_query_result = {}
*/
register(S1);
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S1}
 & endpoints = {(S1|->{})}
 & last_endpoint_query_result = {}
*/
query_health_apis(E3,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S1}
 & endpoints = {(S1|->{})}
 & last_endpoint_query_result = {}
*/
register(S4);
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S1,S4}
 & endpoints = {(S1|->{}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_endpoints(S2,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S1,S4}
 & endpoints = {(S1|->{}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_health_apis(E2,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S1,S4}
 & endpoints = {(S1|->{}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
add_endpoint(E2,S1,HCA4);
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {(E2|->HCA4)}
 & services = {S1,S4}
 & endpoints = {(S1|->{E2}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_health_apis(E4,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {(E2|->HCA4)}
 & services = {S1,S4}
 & endpoints = {(S1|->{E2}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_health_apis(E5,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {(E2|->HCA4)}
 & services = {S1,S4}
 & endpoints = {(S1|->{E2}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_endpoints(S2,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {(E2|->HCA4)}
 & services = {S1,S4}
 & endpoints = {(S1|->{E2}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_health_apis(E4,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {(E2|->HCA4)}
 & services = {S1,S4}
 & endpoints = {(S1|->{E2}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
remove_endpoint(E2,S1);
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S1,S4}
 & endpoints = {(S1|->{}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
unregister(S1);
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S4}
 & endpoints = {(S4|->{})}
 & last_endpoint_query_result = {}
*/
register(S1);
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S1,S4}
 & endpoints = {(S1|->{}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_health_apis(E1,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S1,S4}
 & endpoints = {(S1|->{}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
add_endpoint(E2,S1,HCA2);
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {(E2|->HCA2)}
 & services = {S1,S4}
 & endpoints = {(S1|->{E2}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
health_check({(E2|->TRUE)});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {(E2|->HCA2)}
 & services = {S1,S4}
 & endpoints = {(S1|->{E2}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
unregister(S1);
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S4}
 & endpoints = {(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_endpoints(S4,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S4}
 & endpoints = {(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_endpoints(S5,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S4}
 & endpoints = {(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_health_apis(E1,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S4}
 & endpoints = {(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_endpoints(S3,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S4}
 & endpoints = {(S4|->{})}
 & last_endpoint_query_result = {}
*/
add_endpoint(E1,S4,HCA3);
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {(E1|->HCA3)}
 & services = {S4}
 & endpoints = {(S4|->{E1})}
 & last_endpoint_query_result = {}
*/
query_health_apis(E1,{HCA3});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {HCA3}
 & health_apis = {(E1|->HCA3)}
 & services = {S4}
 & endpoints = {(S4|->{E1})}
 & last_endpoint_query_result = {}
*/
register(S2);
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {HCA3}
 & health_apis = {(E1|->HCA3)}
 & services = {S2,S4}
 & endpoints = {(S2|->{}),(S4|->{E1})}
 & last_endpoint_query_result = {}
*/
remove_endpoint(E1,S4);
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {HCA3}
 & health_apis = {}
 & services = {S2,S4}
 & endpoints = {(S2|->{}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_endpoints(S4,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {HCA3}
 & health_apis = {}
 & services = {S2,S4}
 & endpoints = {(S2|->{}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_health_apis(E1,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {}
 & services = {S2,S4}
 & endpoints = {(S2|->{}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
add_endpoint(E1,S2,HCA4);
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {(E1|->HCA4)}
 & services = {S2,S4}
 & endpoints = {(S2|->{E1}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_endpoints(S4,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {(E1|->HCA4)}
 & services = {S2,S4}
 & endpoints = {(S2|->{E1}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_endpoints(S4,{});
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {(E1|->HCA4)}
 & services = {S2,S4}
 & endpoints = {(S2|->{E1}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
query_endpoints(S4,{})
/* Variables
   last_endpoint_active_query_result = {}
 & unavailable_endpoints = {}
 & last_health_query_result = {}
 & health_apis = {(E1|->HCA4)}
 & services = {S2,S4}
 & endpoints = {(S2|->{E1}),(S4|->{})}
 & last_endpoint_query_result = {}
*/
