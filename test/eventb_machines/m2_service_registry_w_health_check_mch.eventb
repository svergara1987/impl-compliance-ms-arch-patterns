package(load_event_b_project([event_b_model(none,m2_service_registry_w_health_check,[sees(none,[c0_service_registry,c1_service_registry_w_health_check]),refines(none,m1_service_registry_w_health_check),variables(none,[identifier(none,endpoints),identifier(none,health_apis),identifier(none,last_endpoint_active_query_result),identifier(none,last_health_query_result),identifier(none,services),identifier(none,time),identifier(none,unavailable_endpoints)]),invariant(none,[subset(rodinpos(m2_service_registry_w_health_check,inv1,'_NZJkEDCYEeqMhoZral7PXw'),identifier(none,services),identifier(none,'S')),member(rodinpos(m2_service_registry_w_health_check,inv2,'_NZJkETCYEeqMhoZral7PXw'),identifier(none,endpoints),total_function(none,identifier(none,services),pow_subset(none,identifier(none,'E')))),subset(rodinpos(m2_service_registry_w_health_check,inv4,'_NZJkEjCYEeqMhoZral7PXw'),identifier(none,last_endpoint_active_query_result),identifier(none,last_endpoint_query_result)),member(rodinpos(m2_service_registry_w_health_check,inv3,'_NZKLIDCYEeqMhoZral7PXw'),identifier(none,health_apis),total_function(none,general_union(none,range(none,identifier(none,endpoints))),identifier(none,'HCA'))),member(rodinpos(m2_service_registry_w_health_check,inv5,'_NZKLITCYEeqMhoZral7PXw'),identifier(none,last_health_query_result),pow_subset(none,identifier(none,'HCA'))),member(rodinpos(m2_service_registry_w_health_check,inv6,'_NZKLIjCYEeqMhoZral7PXw'),identifier(none,time),natural_set(none)),subset(rodinpos(m2_service_registry_w_health_check,inv7,'_NZKyMDCYEeqMhoZral7PXw'),identifier(none,unavailable_endpoints),general_union(none,range(none,identifier(none,endpoints))))]),theorems(none,[]),events(none,[event(rodinpos(m2_service_registry_w_health_check,'INITIALISATION','\''),'INITIALISATION',ordinary(none),['INITIALISATION'],[],[],[],[assign(rodinpos(m2_service_registry_w_health_check,init1,'_NZHH0jCYEeqMhoZral7PXw'),[identifier(none,services)],[typeof(none,empty_set(none),pow_subset(none,identifier(none,'S')))]),assign(rodinpos(m2_service_registry_w_health_check,init2,'_NZHu4DCYEeqMhoZral7PXw'),[identifier(none,endpoints)],[typeof(none,empty_set(none),pow_subset(none,cartesian_product(none,identifier(none,'S'),pow_subset(none,identifier(none,'E')))))]),assign(rodinpos(m2_service_registry_w_health_check,init3,'_NZHu4TCYEeqMhoZral7PXw'),[identifier(none,last_endpoint_active_query_result)],[typeof(none,empty_set(none),pow_subset(none,identifier(none,'E')))]),assign(rodinpos(m2_service_registry_w_health_check,init4,'_NZHu4jCYEeqMhoZral7PXw'),[identifier(none,health_apis)],[typeof(none,empty_set(none),pow_subset(none,cartesian_product(none,identifier(none,'E'),identifier(none,'HCA'))))]),assign(rodinpos(m2_service_registry_w_health_check,init5,'_NZHu4zCYEeqMhoZral7PXw'),[identifier(none,last_health_query_result)],[typeof(none,empty_set(none),pow_subset(none,identifier(none,'HCA')))]),assign(rodinpos(m2_service_registry_w_health_check,init6,'_NZHu5DCYEeqMhoZral7PXw'),[identifier(none,time)],[integer(none,0)]),assign(rodinpos(m2_service_registry_w_health_check,init7,'_NZHu5TCYEeqMhoZral7PXw'),[identifier(none,unavailable_endpoints)],[typeof(none,empty_set(none),pow_subset(none,identifier(none,'E')))])],[]),event(rodinpos(m2_service_registry_w_health_check,register,'_NZKyMTCYEeqMhoZral7PXw'),register,ordinary(none),[register],[identifier(rodinpos(m2_service_registry_w_health_check,[],'_8bwO0TCXEeqMhoZral7PXw'),a_service)],[member(rodinpos(m2_service_registry_w_health_check,grd1,'_8bwO0jCXEeqMhoZral7PXw'),identifier(none,a_service),set_subtraction(none,identifier(none,'S'),identifier(none,services)))],[],[assign(rodinpos(m2_service_registry_w_health_check,act1,'_8bw14DCXEeqMhoZral7PXw'),[identifier(none,services)],[union(none,identifier(none,services),set_extension(none,[identifier(none,a_service)]))]),assign(rodinpos(m2_service_registry_w_health_check,act2,'_8bw14TCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[overwrite(none,identifier(none,endpoints),set_extension(none,[couple(none,[identifier(none,a_service),typeof(none,empty_set(none),pow_subset(none,identifier(none,'E')))])]))])],[]),event(rodinpos(m2_service_registry_w_health_check,unregister,'_NZLZQDCYEeqMhoZral7PXw'),unregister,ordinary(none),[unregister],[identifier(rodinpos(m2_service_registry_w_health_check,[],'_8bxc8DCXEeqMhoZral7PXw'),a_service)],[member(rodinpos(m2_service_registry_w_health_check,grd1,'_8bxc8TCXEeqMhoZral7PXw'),identifier(none,a_service),identifier(none,services))],[],[assign(rodinpos(m2_service_registry_w_health_check,act1,'_8bxc8jCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[domain_subtraction(none,set_extension(none,[identifier(none,a_service)]),identifier(none,endpoints))]),assign(rodinpos(m2_service_registry_w_health_check,act2,'_8byEADCXEeqMhoZral7PXw'),[identifier(none,services)],[set_subtraction(none,identifier(none,services),set_extension(none,[identifier(none,a_service)]))]),assign(rodinpos(m2_service_registry_w_health_check,act3,'_EhcjkDCYEeqMhoZral7PXw'),[identifier(none,health_apis)],[domain_subtraction(none,function(none,identifier(none,endpoints),[identifier(none,a_service)]),identifier(none,health_apis))]),assign(rodinpos(m2_service_registry_w_health_check,act4,'_NZLZQjCYEeqMhoZral7PXw'),[identifier(none,unavailable_endpoints)],[set_subtraction(none,identifier(none,unavailable_endpoints),function(none,identifier(none,endpoints),[identifier(none,a_service)]))])],[]),event(rodinpos(m2_service_registry_w_health_check,add_endpoint,'_NZLZQzCYEeqMhoZral7PXw'),add_endpoint,ordinary(none),[add_endpoint],[identifier(rodinpos(m2_service_registry_w_health_check,[],'_8byEAjCXEeqMhoZral7PXw'),a_service),identifier(rodinpos(m2_service_registry_w_health_check,[],'_8byrEDCXEeqMhoZral7PXw'),an_endpoint),identifier(rodinpos(m2_service_registry_w_health_check,[],'_EhdKoDCYEeqMhoZral7PXw'),a_health_check_api)],[member(rodinpos(m2_service_registry_w_health_check,grd1,'_8byrETCXEeqMhoZral7PXw'),identifier(none,a_service),identifier(none,services)),member(rodinpos(m2_service_registry_w_health_check,grd2,'_8byrEjCXEeqMhoZral7PXw'),identifier(none,an_endpoint),set_subtraction(none,identifier(none,'E'),general_union(none,range(none,identifier(none,endpoints))))),member(rodinpos(m2_service_registry_w_health_check,grd3,'_EhdKoTCYEeqMhoZral7PXw'),identifier(none,a_health_check_api),identifier(none,'HCA'))],[],[assign(rodinpos(m2_service_registry_w_health_check,act1,'_8bzSIDCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[overwrite(none,identifier(none,endpoints),set_extension(none,[couple(none,[identifier(none,a_service),union(none,function(none,identifier(none,endpoints),[identifier(none,a_service)]),set_extension(none,[identifier(none,an_endpoint)]))])]))]),assign(rodinpos(m2_service_registry_w_health_check,act2,'_EhdKojCYEeqMhoZral7PXw'),[identifier(none,health_apis)],[overwrite(none,identifier(none,health_apis),set_extension(none,[couple(none,[identifier(none,an_endpoint),identifier(none,a_health_check_api)])]))])],[]),event(rodinpos(m2_service_registry_w_health_check,remove_endpoint,'_NZMAUTCYEeqMhoZral7PXw'),remove_endpoint,ordinary(none),[remove_endpoint],[identifier(rodinpos(m2_service_registry_w_health_check,[],'_8bz5MDCXEeqMhoZral7PXw'),a_service),identifier(rodinpos(m2_service_registry_w_health_check,[],'_8bz5MTCXEeqMhoZral7PXw'),an_endpoint)],[member(rodinpos(m2_service_registry_w_health_check,grd1,'_8b0gQDCXEeqMhoZral7PXw'),identifier(none,a_service),identifier(none,services)),member(rodinpos(m2_service_registry_w_health_check,grd2,'_8b0gQTCXEeqMhoZral7PXw'),identifier(none,an_endpoint),function(none,identifier(none,endpoints),[identifier(none,a_service)]))],[],[assign(rodinpos(m2_service_registry_w_health_check,act1,'_8b0gQjCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[overwrite(none,identifier(none,endpoints),set_extension(none,[couple(none,[identifier(none,a_service),set_subtraction(none,function(none,identifier(none,endpoints),[identifier(none,a_service)]),set_extension(none,[identifier(none,an_endpoint)]))])]))]),assign(rodinpos(m2_service_registry_w_health_check,act2,'_EhdxsjCYEeqMhoZral7PXw'),[identifier(none,health_apis)],[domain_subtraction(none,set_extension(none,[identifier(none,an_endpoint)]),identifier(none,health_apis))]),assign(rodinpos(m2_service_registry_w_health_check,act3,'_NZMAUzCYEeqMhoZral7PXw'),[identifier(none,unavailable_endpoints)],[set_subtraction(none,identifier(none,unavailable_endpoints),set_extension(none,[identifier(none,an_endpoint)]))])],[]),event(rodinpos(m2_service_registry_w_health_check,query_endpoints,'_NZMnYDCYEeqMhoZral7PXw'),query_endpoints,ordinary(none),[query_endpoints],[identifier(rodinpos(m2_service_registry_w_health_check,[],'_NZMnYjCYEeqMhoZral7PXw'),a_service),identifier(rodinpos(m2_service_registry_w_health_check,[],'_NZMnYzCYEeqMhoZral7PXw'),result2)],[member(rodinpos(m2_service_registry_w_health_check,grd1,'_NZNOcDCYEeqMhoZral7PXw'),identifier(none,a_service),identifier(none,'S')),subset(rodinpos(m2_service_registry_w_health_check,grd2,'_NZN1gDCYEeqMhoZral7PXw'),identifier(none,result2),identifier(none,'E')),implication(rodinpos(m2_service_registry_w_health_check,grd3,'_NZN1gTCYEeqMhoZral7PXw'),member(none,identifier(none,a_service),identifier(none,services)),equal(none,identifier(none,result2),set_subtraction(none,function(none,identifier(none,endpoints),[identifier(none,a_service)]),identifier(none,unavailable_endpoints)))),implication(rodinpos(m2_service_registry_w_health_check,grd4,'_NZN1gjCYEeqMhoZral7PXw'),not_member(none,identifier(none,a_service),identifier(none,services)),equal(none,identifier(none,result2),typeof(none,empty_set(none),pow_subset(none,identifier(none,'E')))))],[],[assign(rodinpos(m2_service_registry_w_health_check,act2,'_NZOckTCYEeqMhoZral7PXw'),[identifier(none,last_endpoint_active_query_result)],[identifier(none,result2)])],[witness(none,identifier(none,result),subset(rodinpos(m2_service_registry_w_health_check,result,'_NZOckDCYEeqMhoZral7PXw'),identifier(none,result2),identifier(none,result)))]),event(rodinpos(m2_service_registry_w_health_check,query_health_apis,'_NZOckjCYEeqMhoZral7PXw'),query_health_apis,ordinary(none),[query_health_apis],[identifier(rodinpos(m2_service_registry_w_health_check,[],'_EheYwzCYEeqMhoZral7PXw'),an_endpoint),identifier(rodinpos(m2_service_registry_w_health_check,[],'_Ehe_0DCYEeqMhoZral7PXw'),result)],[member(rodinpos(m2_service_registry_w_health_check,grd1,'_Ehe_0TCYEeqMhoZral7PXw'),identifier(none,an_endpoint),identifier(none,'E')),subset(rodinpos(m2_service_registry_w_health_check,grd2,'_Ehe_0jCYEeqMhoZral7PXw'),identifier(none,result),identifier(none,'HCA')),implication(rodinpos(m2_service_registry_w_health_check,grd3,'_Ehe_0zCYEeqMhoZral7PXw'),member(none,identifier(none,an_endpoint),general_union(none,range(none,identifier(none,endpoints)))),equal(none,identifier(none,result),set_extension(none,[function(none,identifier(none,health_apis),[identifier(none,an_endpoint)])]))),implication(rodinpos(m2_service_registry_w_health_check,grd4,'_Ehe_1DCYEeqMhoZral7PXw'),not_member(none,identifier(none,an_endpoint),general_union(none,range(none,identifier(none,endpoints)))),equal(none,identifier(none,result),typeof(none,empty_set(none),pow_subset(none,identifier(none,'HCA')))))],[],[assign(rodinpos(m2_service_registry_w_health_check,act1,'_Ehfm4DCYEeqMhoZral7PXw'),[identifier(none,last_health_query_result)],[identifier(none,result)])],[]),event(rodinpos(m2_service_registry_w_health_check,clock,'_NZPDoTCYEeqMhoZral7PXw'),clock,ordinary(none),[],[identifier(rodinpos(m2_service_registry_w_health_check,[],'_NZPDojCYEeqMhoZral7PXw'),health_api_responses)],[member(rodinpos(m2_service_registry_w_health_check,grd1,'_NZPDozCYEeqMhoZral7PXw'),identifier(none,health_api_responses),total_function(none,general_union(none,range(none,identifier(none,endpoints))),bool_set(none)))],[],[assign(rodinpos(m2_service_registry_w_health_check,act1,'_NZPqsDCYEeqMhoZral7PXw'),[identifier(none,time)],[add(none,identifier(none,time),integer(none,1))]),assign(rodinpos(m2_service_registry_w_health_check,act2,'_NZPqsTCYEeqMhoZral7PXw'),[identifier(none,unavailable_endpoints)],[event_b_comprehension_set(none,[identifier(none,x)],identifier(none,x),conjunct(none,member(none,identifier(none,x),identifier(none,'E')),conjunct(none,member(none,identifier(none,x),domain(none,identifier(none,health_api_responses))),equal(none,function(none,identifier(none,health_api_responses),[identifier(none,x)]),boolean_false(none)))))])],[])])]),event_b_model(none,m1_service_registry_w_health_check,[sees(none,[c0_service_registry,c1_service_registry_w_health_check]),refines(none,m0_service_registry),variables(none,[identifier(none,endpoints),identifier(none,health_apis),identifier(none,last_endpoint_query_result),identifier(none,last_health_query_result),identifier(none,services)]),invariant(none,[subset(rodinpos(m1_service_registry_w_health_check,inv1,'_EhauYDCYEeqMhoZral7PXw'),identifier(none,services),identifier(none,'S')),member(rodinpos(m1_service_registry_w_health_check,inv2,'_EhauYTCYEeqMhoZral7PXw'),identifier(none,endpoints),total_function(none,identifier(none,services),pow_subset(none,identifier(none,'E')))),member(rodinpos(m1_service_registry_w_health_check,inv4,'_EhauYjCYEeqMhoZral7PXw'),identifier(none,last_endpoint_query_result),pow_subset(none,identifier(none,'E'))),member(rodinpos(m1_service_registry_w_health_check,inv3,'_EhbVcDCYEeqMhoZral7PXw'),identifier(none,health_apis),total_function(none,general_union(none,range(none,identifier(none,endpoints))),identifier(none,'HCA'))),member(rodinpos(m1_service_registry_w_health_check,inv5,'_EhbVcTCYEeqMhoZral7PXw'),identifier(none,last_health_query_result),pow_subset(none,identifier(none,'HCA')))]),theorems(none,[]),events(none,[event(rodinpos(m1_service_registry_w_health_check,'INITIALISATION','\''),'INITIALISATION',ordinary(none),['INITIALISATION'],[],[],[],[assign(rodinpos(m1_service_registry_w_health_check,init1,'_EhY5MDCYEeqMhoZral7PXw'),[identifier(none,services)],[typeof(none,empty_set(none),pow_subset(none,identifier(none,'S')))]),assign(rodinpos(m1_service_registry_w_health_check,init2,'_EhY5MTCYEeqMhoZral7PXw'),[identifier(none,endpoints)],[typeof(none,empty_set(none),pow_subset(none,cartesian_product(none,identifier(none,'S'),pow_subset(none,identifier(none,'E')))))]),assign(rodinpos(m1_service_registry_w_health_check,init3,'_EhY5MjCYEeqMhoZral7PXw'),[identifier(none,last_endpoint_query_result)],[typeof(none,empty_set(none),pow_subset(none,identifier(none,'E')))]),assign(rodinpos(m1_service_registry_w_health_check,init4,'_EhZgQDCYEeqMhoZral7PXw'),[identifier(none,health_apis)],[typeof(none,empty_set(none),pow_subset(none,cartesian_product(none,identifier(none,'E'),identifier(none,'HCA'))))]),assign(rodinpos(m1_service_registry_w_health_check,init5,'_EhZgQTCYEeqMhoZral7PXw'),[identifier(none,last_health_query_result)],[typeof(none,empty_set(none),pow_subset(none,identifier(none,'HCA')))])],[]),event(rodinpos(m1_service_registry_w_health_check,register,'_EhbVcjCYEeqMhoZral7PXw'),register,ordinary(none),[register],[identifier(rodinpos(m1_service_registry_w_health_check,[],'_8bwO0TCXEeqMhoZral7PXw'),a_service)],[member(rodinpos(m1_service_registry_w_health_check,grd1,'_8bwO0jCXEeqMhoZral7PXw'),identifier(none,a_service),set_subtraction(none,identifier(none,'S'),identifier(none,services)))],[],[assign(rodinpos(m1_service_registry_w_health_check,act1,'_8bw14DCXEeqMhoZral7PXw'),[identifier(none,services)],[union(none,identifier(none,services),set_extension(none,[identifier(none,a_service)]))]),assign(rodinpos(m1_service_registry_w_health_check,act2,'_8bw14TCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[overwrite(none,identifier(none,endpoints),set_extension(none,[couple(none,[identifier(none,a_service),typeof(none,empty_set(none),pow_subset(none,identifier(none,'E')))])]))])],[]),event(rodinpos(m1_service_registry_w_health_check,unregister,'_Ehb8gTCYEeqMhoZral7PXw'),unregister,ordinary(none),[unregister],[identifier(rodinpos(m1_service_registry_w_health_check,[],'_8bxc8DCXEeqMhoZral7PXw'),a_service)],[member(rodinpos(m1_service_registry_w_health_check,grd1,'_8bxc8TCXEeqMhoZral7PXw'),identifier(none,a_service),identifier(none,services))],[],[assign(rodinpos(m1_service_registry_w_health_check,act1,'_8bxc8jCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[domain_subtraction(none,set_extension(none,[identifier(none,a_service)]),identifier(none,endpoints))]),assign(rodinpos(m1_service_registry_w_health_check,act2,'_8byEADCXEeqMhoZral7PXw'),[identifier(none,services)],[set_subtraction(none,identifier(none,services),set_extension(none,[identifier(none,a_service)]))]),assign(rodinpos(m1_service_registry_w_health_check,act3,'_EhcjkDCYEeqMhoZral7PXw'),[identifier(none,health_apis)],[domain_subtraction(none,function(none,identifier(none,endpoints),[identifier(none,a_service)]),identifier(none,health_apis))])],[]),event(rodinpos(m1_service_registry_w_health_check,add_endpoint,'_EhcjkTCYEeqMhoZral7PXw'),add_endpoint,ordinary(none),[add_endpoint],[identifier(rodinpos(m1_service_registry_w_health_check,[],'_8byEAjCXEeqMhoZral7PXw'),a_service),identifier(rodinpos(m1_service_registry_w_health_check,[],'_8byrEDCXEeqMhoZral7PXw'),an_endpoint),identifier(rodinpos(m1_service_registry_w_health_check,[],'_EhdKoDCYEeqMhoZral7PXw'),a_health_check_api)],[member(rodinpos(m1_service_registry_w_health_check,grd1,'_8byrETCXEeqMhoZral7PXw'),identifier(none,a_service),identifier(none,services)),member(rodinpos(m1_service_registry_w_health_check,grd2,'_8byrEjCXEeqMhoZral7PXw'),identifier(none,an_endpoint),set_subtraction(none,identifier(none,'E'),general_union(none,range(none,identifier(none,endpoints))))),member(rodinpos(m1_service_registry_w_health_check,grd3,'_EhdKoTCYEeqMhoZral7PXw'),identifier(none,a_health_check_api),identifier(none,'HCA'))],[],[assign(rodinpos(m1_service_registry_w_health_check,act1,'_8bzSIDCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[overwrite(none,identifier(none,endpoints),set_extension(none,[couple(none,[identifier(none,a_service),union(none,function(none,identifier(none,endpoints),[identifier(none,a_service)]),set_extension(none,[identifier(none,an_endpoint)]))])]))]),assign(rodinpos(m1_service_registry_w_health_check,act2,'_EhdKojCYEeqMhoZral7PXw'),[identifier(none,health_apis)],[overwrite(none,identifier(none,health_apis),set_extension(none,[couple(none,[identifier(none,an_endpoint),identifier(none,a_health_check_api)])]))])],[]),event(rodinpos(m1_service_registry_w_health_check,remove_endpoint,'_EhdxsDCYEeqMhoZral7PXw'),remove_endpoint,ordinary(none),[remove_endpoint],[identifier(rodinpos(m1_service_registry_w_health_check,[],'_8bz5MDCXEeqMhoZral7PXw'),a_service),identifier(rodinpos(m1_service_registry_w_health_check,[],'_8bz5MTCXEeqMhoZral7PXw'),an_endpoint)],[member(rodinpos(m1_service_registry_w_health_check,grd1,'_8b0gQDCXEeqMhoZral7PXw'),identifier(none,a_service),identifier(none,services)),member(rodinpos(m1_service_registry_w_health_check,grd2,'_8b0gQTCXEeqMhoZral7PXw'),identifier(none,an_endpoint),function(none,identifier(none,endpoints),[identifier(none,a_service)]))],[],[assign(rodinpos(m1_service_registry_w_health_check,act1,'_8b0gQjCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[overwrite(none,identifier(none,endpoints),set_extension(none,[couple(none,[identifier(none,a_service),set_subtraction(none,function(none,identifier(none,endpoints),[identifier(none,a_service)]),set_extension(none,[identifier(none,an_endpoint)]))])]))]),assign(rodinpos(m1_service_registry_w_health_check,act2,'_EhdxsjCYEeqMhoZral7PXw'),[identifier(none,health_apis)],[domain_subtraction(none,set_extension(none,[identifier(none,an_endpoint)]),identifier(none,health_apis))])],[]),event(rodinpos(m1_service_registry_w_health_check,query_endpoints,'_EheYwDCYEeqMhoZral7PXw'),query_endpoints,ordinary(none),[query_endpoints],[identifier(rodinpos(m1_service_registry_w_health_check,[],'_8b1HUTCXEeqMhoZral7PXw'),a_service),identifier(rodinpos(m1_service_registry_w_health_check,[],'_8b1uYDCXEeqMhoZral7PXw'),result)],[member(rodinpos(m1_service_registry_w_health_check,grd1,'_8b1uYTCXEeqMhoZral7PXw'),identifier(none,a_service),identifier(none,'S')),subset(rodinpos(m1_service_registry_w_health_check,grd2,'_8b1uYjCXEeqMhoZral7PXw'),identifier(none,result),identifier(none,'E')),implication(rodinpos(m1_service_registry_w_health_check,grd3,'_8b2VcDCXEeqMhoZral7PXw'),member(none,identifier(none,a_service),identifier(none,services)),equal(none,identifier(none,result),function(none,identifier(none,endpoints),[identifier(none,a_service)]))),implication(rodinpos(m1_service_registry_w_health_check,grd4,'_8b2VcTCXEeqMhoZral7PXw'),not_member(none,identifier(none,a_service),identifier(none,services)),equal(none,identifier(none,result),typeof(none,empty_set(none),pow_subset(none,identifier(none,'E')))))],[],[assign(rodinpos(m1_service_registry_w_health_check,act1,'_8b2VcjCXEeqMhoZral7PXw'),[identifier(none,last_endpoint_query_result)],[identifier(none,result)])],[]),event(rodinpos(m1_service_registry_w_health_check,query_health_apis,'_EheYwjCYEeqMhoZral7PXw'),query_health_apis,ordinary(none),[],[identifier(rodinpos(m1_service_registry_w_health_check,[],'_EheYwzCYEeqMhoZral7PXw'),an_endpoint),identifier(rodinpos(m1_service_registry_w_health_check,[],'_Ehe_0DCYEeqMhoZral7PXw'),result)],[member(rodinpos(m1_service_registry_w_health_check,grd1,'_Ehe_0TCYEeqMhoZral7PXw'),identifier(none,an_endpoint),identifier(none,'E')),subset(rodinpos(m1_service_registry_w_health_check,grd2,'_Ehe_0jCYEeqMhoZral7PXw'),identifier(none,result),identifier(none,'HCA')),implication(rodinpos(m1_service_registry_w_health_check,grd3,'_Ehe_0zCYEeqMhoZral7PXw'),member(none,identifier(none,an_endpoint),general_union(none,range(none,identifier(none,endpoints)))),equal(none,identifier(none,result),set_extension(none,[function(none,identifier(none,health_apis),[identifier(none,an_endpoint)])]))),implication(rodinpos(m1_service_registry_w_health_check,grd4,'_Ehe_1DCYEeqMhoZral7PXw'),not_member(none,identifier(none,an_endpoint),general_union(none,range(none,identifier(none,endpoints)))),equal(none,identifier(none,result),typeof(none,empty_set(none),pow_subset(none,identifier(none,'HCA')))))],[],[assign(rodinpos(m1_service_registry_w_health_check,act1,'_Ehfm4DCYEeqMhoZral7PXw'),[identifier(none,last_health_query_result)],[identifier(none,result)])],[])])]),event_b_model(none,m0_service_registry,[sees(none,[c0_service_registry]),variables(none,[identifier(none,endpoints),identifier(none,last_endpoint_query_result),identifier(none,services)]),invariant(none,[subset(rodinpos(m0_service_registry,inv1,'_8bvnwDCXEeqMhoZral7PXw'),identifier(none,services),identifier(none,'S')),member(rodinpos(m0_service_registry,inv2,'_8bvnwTCXEeqMhoZral7PXw'),identifier(none,endpoints),total_function(none,identifier(none,services),pow_subset(none,identifier(none,'E')))),member(rodinpos(m0_service_registry,inv4,'_8bvnwjCXEeqMhoZral7PXw'),identifier(none,last_endpoint_query_result),pow_subset(none,identifier(none,'E')))]),theorems(none,[]),events(none,[event(rodinpos(m0_service_registry,'INITIALISATION','\''),'INITIALISATION',ordinary(none),[],[],[],[],[assign(rodinpos(m0_service_registry,init1,'_8buZoDCXEeqMhoZral7PXw'),[identifier(none,services)],[typeof(none,empty_set(none),pow_subset(none,identifier(none,'S')))]),assign(rodinpos(m0_service_registry,init2,'_8buZoTCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[typeof(none,empty_set(none),pow_subset(none,cartesian_product(none,identifier(none,'S'),pow_subset(none,identifier(none,'E')))))]),assign(rodinpos(m0_service_registry,init3,'_8bvAsDCXEeqMhoZral7PXw'),[identifier(none,last_endpoint_query_result)],[typeof(none,empty_set(none),pow_subset(none,identifier(none,'E')))])],[]),event(rodinpos(m0_service_registry,register,'_8bwO0DCXEeqMhoZral7PXw'),register,ordinary(none),[],[identifier(rodinpos(m0_service_registry,[],'_8bwO0TCXEeqMhoZral7PXw'),a_service)],[member(rodinpos(m0_service_registry,grd1,'_8bwO0jCXEeqMhoZral7PXw'),identifier(none,a_service),set_subtraction(none,identifier(none,'S'),identifier(none,services)))],[],[assign(rodinpos(m0_service_registry,act1,'_8bw14DCXEeqMhoZral7PXw'),[identifier(none,services)],[union(none,identifier(none,services),set_extension(none,[identifier(none,a_service)]))]),assign(rodinpos(m0_service_registry,act2,'_8bw14TCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[overwrite(none,identifier(none,endpoints),set_extension(none,[couple(none,[identifier(none,a_service),typeof(none,empty_set(none),pow_subset(none,identifier(none,'E')))])]))])],[]),event(rodinpos(m0_service_registry,unregister,'_8bw14jCXEeqMhoZral7PXw'),unregister,ordinary(none),[],[identifier(rodinpos(m0_service_registry,[],'_8bxc8DCXEeqMhoZral7PXw'),a_service)],[member(rodinpos(m0_service_registry,grd1,'_8bxc8TCXEeqMhoZral7PXw'),identifier(none,a_service),identifier(none,services))],[],[assign(rodinpos(m0_service_registry,act1,'_8bxc8jCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[domain_subtraction(none,set_extension(none,[identifier(none,a_service)]),identifier(none,endpoints))]),assign(rodinpos(m0_service_registry,act2,'_8byEADCXEeqMhoZral7PXw'),[identifier(none,services)],[set_subtraction(none,identifier(none,services),set_extension(none,[identifier(none,a_service)]))])],[]),event(rodinpos(m0_service_registry,add_endpoint,'_8byEATCXEeqMhoZral7PXw'),add_endpoint,ordinary(none),[],[identifier(rodinpos(m0_service_registry,[],'_8byEAjCXEeqMhoZral7PXw'),a_service),identifier(rodinpos(m0_service_registry,[],'_8byrEDCXEeqMhoZral7PXw'),an_endpoint)],[member(rodinpos(m0_service_registry,grd1,'_8byrETCXEeqMhoZral7PXw'),identifier(none,a_service),identifier(none,services)),member(rodinpos(m0_service_registry,grd2,'_8byrEjCXEeqMhoZral7PXw'),identifier(none,an_endpoint),set_subtraction(none,identifier(none,'E'),general_union(none,range(none,identifier(none,endpoints)))))],[],[assign(rodinpos(m0_service_registry,act1,'_8bzSIDCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[overwrite(none,identifier(none,endpoints),set_extension(none,[couple(none,[identifier(none,a_service),union(none,function(none,identifier(none,endpoints),[identifier(none,a_service)]),set_extension(none,[identifier(none,an_endpoint)]))])]))])],[]),event(rodinpos(m0_service_registry,remove_endpoint,'_8bzSITCXEeqMhoZral7PXw'),remove_endpoint,ordinary(none),[],[identifier(rodinpos(m0_service_registry,[],'_8bz5MDCXEeqMhoZral7PXw'),a_service),identifier(rodinpos(m0_service_registry,[],'_8bz5MTCXEeqMhoZral7PXw'),an_endpoint)],[member(rodinpos(m0_service_registry,grd1,'_8b0gQDCXEeqMhoZral7PXw'),identifier(none,a_service),identifier(none,services)),member(rodinpos(m0_service_registry,grd2,'_8b0gQTCXEeqMhoZral7PXw'),identifier(none,an_endpoint),function(none,identifier(none,endpoints),[identifier(none,a_service)]))],[],[assign(rodinpos(m0_service_registry,act1,'_8b0gQjCXEeqMhoZral7PXw'),[identifier(none,endpoints)],[overwrite(none,identifier(none,endpoints),set_extension(none,[couple(none,[identifier(none,a_service),set_subtraction(none,function(none,identifier(none,endpoints),[identifier(none,a_service)]),set_extension(none,[identifier(none,an_endpoint)]))])]))])],[]),event(rodinpos(m0_service_registry,query_endpoints,'_8b1HUDCXEeqMhoZral7PXw'),query_endpoints,ordinary(none),[],[identifier(rodinpos(m0_service_registry,[],'_8b1HUTCXEeqMhoZral7PXw'),a_service),identifier(rodinpos(m0_service_registry,[],'_8b1uYDCXEeqMhoZral7PXw'),result)],[member(rodinpos(m0_service_registry,grd1,'_8b1uYTCXEeqMhoZral7PXw'),identifier(none,a_service),identifier(none,'S')),subset(rodinpos(m0_service_registry,grd2,'_8b1uYjCXEeqMhoZral7PXw'),identifier(none,result),identifier(none,'E')),implication(rodinpos(m0_service_registry,grd3,'_8b2VcDCXEeqMhoZral7PXw'),member(none,identifier(none,a_service),identifier(none,services)),equal(none,identifier(none,result),function(none,identifier(none,endpoints),[identifier(none,a_service)]))),implication(rodinpos(m0_service_registry,grd4,'_8b2VcTCXEeqMhoZral7PXw'),not_member(none,identifier(none,a_service),identifier(none,services)),equal(none,identifier(none,result),typeof(none,empty_set(none),pow_subset(none,identifier(none,'E')))))],[],[assign(rodinpos(m0_service_registry,act1,'_8b2VcjCXEeqMhoZral7PXw'),[identifier(none,last_endpoint_query_result)],[identifier(none,result)])],[])])])],[event_b_context(none,c0_service_registry,[extends(none,[]),constants(none,[identifier(none,'E1'),identifier(none,'E2'),identifier(none,'E3'),identifier(none,'E4'),identifier(none,'E5'),identifier(none,'E6'),identifier(none,'S1'),identifier(none,'S2'),identifier(none,'S3'),identifier(none,'S4'),identifier(none,'S5')]),abstract_constants(none,[]),axioms(none,[partition(rodinpos(c0_service_registry,ax1,'_azN8hDCYEeqMhoZral7PXw'),identifier(none,'S'),[set_extension(none,[identifier(none,'S1')]),set_extension(none,[identifier(none,'S2')]),set_extension(none,[identifier(none,'S3')]),set_extension(none,[identifier(none,'S4')]),set_extension(none,[identifier(none,'S5')])]),partition(rodinpos(c0_service_registry,ax2,'_azOjkDCYEeqMhoZral7PXw'),identifier(none,'E'),[set_extension(none,[identifier(none,'E1')]),set_extension(none,[identifier(none,'E2')]),set_extension(none,[identifier(none,'E3')]),set_extension(none,[identifier(none,'E4')]),set_extension(none,[identifier(none,'E5')]),set_extension(none,[identifier(none,'E6')])])]),theorems(none,[]),sets(none,[deferred_set(none,'E'),deferred_set(none,'S')])]),event_b_context(none,c1_service_registry_w_health_check,[extends(none,[c0_service_registry]),constants(none,[identifier(none,'HCA1'),identifier(none,'HCA2'),identifier(none,'HCA3'),identifier(none,'HCA4')]),abstract_constants(none,[]),axioms(none,[partition(rodinpos(c1_service_registry_w_health_check,ax3,'_lVLfZDCYEeqMhoZral7PXw'),identifier(none,'HCA'),[set_extension(none,[identifier(none,'HCA1')]),set_extension(none,[identifier(none,'HCA2')]),set_extension(none,[identifier(none,'HCA3')]),set_extension(none,[identifier(none,'HCA4')])])]),theorems(none,[]),sets(none,[deferred_set(none,'HCA')])])],[exporter_version(3),po(m2_service_registry_w_health_check,'Invariant  establishment',[event('INITIALISATION'),event('INITIALISATION'),invariant(inv2)],true),po(m2_service_registry_w_health_check,'Invariant  establishment',[event('INITIALISATION'),event('INITIALISATION'),invariant(inv4)],true),po(m2_service_registry_w_health_check,'Invariant  establishment',[event('INITIALISATION'),event('INITIALISATION'),invariant(inv3)],false),po(m2_service_registry_w_health_check,'Invariant  establishment',[event('INITIALISATION'),event('INITIALISATION'),invariant(inv6)],true),po(m2_service_registry_w_health_check,'Invariant  establishment',[event('INITIALISATION'),event('INITIALISATION'),invariant(inv7)],true),po(m2_service_registry_w_health_check,'Action simulation',[event('INITIALISATION'),action(init4),event('INITIALISATION')],true),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(register),event(register),invariant(inv2)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(register),event(register),invariant(inv3)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(register),event(register),invariant(inv7)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(unregister),event(unregister),invariant(inv2)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(unregister),event(unregister),invariant(inv3)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(unregister),event(unregister),invariant(inv7)],false),po(m2_service_registry_w_health_check,'Well-definedness of action',[action(act4)],true),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(add_endpoint),event(add_endpoint),invariant(inv2)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(add_endpoint),event(add_endpoint),invariant(inv3)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(add_endpoint),event(add_endpoint),invariant(inv7)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(remove_endpoint),event(remove_endpoint),invariant(inv2)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(remove_endpoint),event(remove_endpoint),invariant(inv3)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(remove_endpoint),event(remove_endpoint),invariant(inv7)],false),po(m2_service_registry_w_health_check,'Well-definedness of Guard',[guard(grd3),event(query_endpoints)],true),po(m2_service_registry_w_health_check,'Feasibility of witness',[witness(result)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(query_endpoints),event(query_endpoints),invariant(inv4)],true),po(m2_service_registry_w_health_check,'Guard strengthening (split)',[event(query_endpoints),guard(grd3),event(query_endpoints),event(query_endpoints)],false),po(m2_service_registry_w_health_check,'Guard strengthening (split)',[event(query_endpoints),guard(grd4),event(query_endpoints),event(query_endpoints)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(clock),invariant(inv6)],false),po(m2_service_registry_w_health_check,'Invariant  preservation',[event(clock),invariant(inv7)],false),po(m2_service_registry_w_health_check,'Well-definedness of action',[action(act2)],true),po(m1_service_registry_w_health_check,'Invariant  establishment',[event('INITIALISATION'),event('INITIALISATION'),invariant(inv2)],true),po(m1_service_registry_w_health_check,'Invariant  establishment',[event('INITIALISATION'),event('INITIALISATION'),invariant(inv3)],true),po(m1_service_registry_w_health_check,'Invariant  preservation',[event(register),event(register),invariant(inv2)],true),po(m1_service_registry_w_health_check,'Invariant  preservation',[event(register),event(register),invariant(inv3)],true),po(m1_service_registry_w_health_check,'Invariant  preservation',[event(unregister),event(unregister),invariant(inv2)],true),po(m1_service_registry_w_health_check,'Invariant  preservation',[event(unregister),event(unregister),invariant(inv3)],false),po(m1_service_registry_w_health_check,'Well-definedness of action',[action(act3)],true),po(m1_service_registry_w_health_check,'Invariant  preservation',[event(add_endpoint),event(add_endpoint),invariant(inv2)],true),po(m1_service_registry_w_health_check,'Invariant  preservation',[event(add_endpoint),event(add_endpoint),invariant(inv3)],false),po(m1_service_registry_w_health_check,'Invariant  preservation',[event(remove_endpoint),event(remove_endpoint),invariant(inv2)],true),po(m1_service_registry_w_health_check,'Invariant  preservation',[event(remove_endpoint),event(remove_endpoint),invariant(inv3)],false),po(m1_service_registry_w_health_check,'Well-definedness of Guard',[guard(grd3),event(query_health_apis)],true),po(m0_service_registry,'Invariant  establishment',[event('INITIALISATION'),invariant(inv2)],true),po(m0_service_registry,'Invariant  preservation',[event(register),invariant(inv2)],true),po(m0_service_registry,'Invariant  preservation',[event(unregister),invariant(inv2)],true),po(m0_service_registry,'Invariant  preservation',[event(add_endpoint),invariant(inv2)],true),po(m0_service_registry,'Well-definedness of action',[action(act1)],true),po(m0_service_registry,'Well-definedness of Guard',[guard(grd2),event(remove_endpoint)],true),po(m0_service_registry,'Invariant  preservation',[event(remove_endpoint),invariant(inv2)],true),po(m0_service_registry,'Well-definedness of action',[action(act1)],true),po(m0_service_registry,'Well-definedness of Guard',[guard(grd3),event(query_endpoints)],true)],_Error)).

